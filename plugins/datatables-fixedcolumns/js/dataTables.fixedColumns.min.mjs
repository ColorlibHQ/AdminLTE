/*! FixedColumns 4.2.2
 * © SpryMedia Ltd - datatables.net/license
 */
import $ from"jquery";import DataTable from"datatables.net";!function(){"use strict";var D,i;l.prototype.left=function(t){return void 0!==t&&(this.c.left=t,this._addStyles()),this.c.left},l.prototype.right=function(t){return void 0!==t&&(this.c.right=t,this._addStyles()),this.c.right},l.prototype._addStyles=function(){this.s.dt.settings()[0].oScroll.sY&&(s=D(this.s.dt.table().node()).closest("div.dataTables_scrollBody")[0],e=this.s.dt.settings()[0].oBrowser.barWidth,s.offsetWidth-s.clientWidth>=e?this.s.barWidth=e:this.s.barWidth=0,this.dom.rightTopBlocker.css("width",this.s.barWidth+1),this.dom.leftTopBlocker.css("width",this.s.barWidth+1),this.dom.rightBottomBlocker.css("width",this.s.barWidth+1),this.dom.leftBottomBlocker.css("width",this.s.barWidth+1));for(var t=null,s=this.s.dt.column(0).header(),e=null,i=(null!==s&&(e=(s=D(s)).outerHeight()+1,t=D(s.closest("div.dataTables_scroll")).css("position","relative")),this.s.dt.column(0).footer()),l=null,o=(null!==i&&(l=(i=D(i)).outerHeight(),null===t&&(t=D(i.closest("div.dataTables_scroll")).css("position","relative"))),this.s.dt.columns().data().toArray().length),r=0,d=0,a=D(this.s.dt.table().node()).children("tbody").children("tr"),h=0,n=new Map,c=0;c<o;c++){var f=this.s.dt.column(c);if(0<c&&n.set(c-1,h),f.visible()){var u=D(f.header()),g=D(f.footer());if(c-h<this.c.left){if(D(this.s.dt.table().node()).addClass(this.classes.tableFixedLeft),t.addClass(this.classes.tableFixedLeft),0<c-h)for(var C=c;C+1<o;){if((y=this.s.dt.column(C-1,{page:"current"})).visible()){r+=D(y.nodes()[0]).outerWidth(),d+=y.header()||y.footer()?D(y.header()).outerWidth():0;break}C--}for(var m=0,x=a;m<x.length;m++){var b=x[m];D(D(b).children()[c-h]).css(this._getCellCSS(!1,r,"left")).addClass(this.classes.fixedLeft)}u.css(this._getCellCSS(!0,d,"left")).addClass(this.classes.fixedLeft),g.css(this._getCellCSS(!0,d,"left")).addClass(this.classes.fixedLeft)}else{for(var p=0,v=a;p<v.length;p++){b=v[p];(R=D(D(b).children()[c-h])).hasClass(this.classes.fixedLeft)&&R.css(this._clearCellCSS("left")).removeClass(this.classes.fixedLeft)}u.hasClass(this.classes.fixedLeft)&&u.css(this._clearCellCSS("left")).removeClass(this.classes.fixedLeft),g.hasClass(this.classes.fixedLeft)&&g.css(this._clearCellCSS("left")).removeClass(this.classes.fixedLeft)}}else h++}for(var B=0,S=0,_=0,c=o-1;0<=c;c--)if((f=this.s.dt.column(c)).visible()){var u=D(f.header()),g=D(f.footer()),k=n.get(c);if(void 0===k&&(k=h),c+_>=o-this.c.right){if(D(this.s.dt.table().node()).addClass(this.classes.tableFixedRight),t.addClass(this.classes.tableFixedRight),c+1+_<o)for(var y,C=c;C+1<o;){if((y=this.s.dt.column(C+1,{page:"current"})).visible()){B+=D(y.nodes()[0]).outerWidth(),S+=y.header()||y.footer()?D(y.header()).outerWidth():0;break}C++}for(var T=0,L=a;T<L.length;T++){b=L[T];D(D(b).children()[c-k]).css(this._getCellCSS(!1,B,"right")).addClass(this.classes.fixedRight)}u.css(this._getCellCSS(!0,S,"right")).addClass(this.classes.fixedRight),g.css(this._getCellCSS(!0,S,"right")).addClass(this.classes.fixedRight)}else{for(var W=0,w=a;W<w.length;W++){var R,b=w[W];(R=D(D(b).children()[c-k])).hasClass(this.classes.fixedRight)&&R.css(this._clearCellCSS("right")).removeClass(this.classes.fixedRight)}u.hasClass(this.classes.fixedRight)&&u.css(this._clearCellCSS("right")).removeClass(this.classes.fixedRight),g.hasClass(this.classes.fixedRight)&&g.css(this._clearCellCSS("right")).removeClass(this.classes.fixedRight)}}else _++;s&&(this.s.rtl?(this.dom.leftTopBlocker.outerHeight(e),t.append(this.dom.leftTopBlocker)):(this.dom.rightTopBlocker.outerHeight(e),t.append(this.dom.rightTopBlocker))),i&&(this.s.rtl?(this.dom.leftBottomBlocker.outerHeight(l),t.append(this.dom.leftBottomBlocker)):(this.dom.rightBottomBlocker.outerHeight(l),t.append(this.dom.rightBottomBlocker)))},l.prototype._getCellCSS=function(t,s,e){return"left"===e?this.s.rtl?{position:"sticky",right:s+"px"}:{left:s+"px",position:"sticky"}:this.s.rtl?{left:s+(t?this.s.barWidth:0)+"px",position:"sticky"}:{position:"sticky",right:s+(t?this.s.barWidth:0)+"px"}},l.prototype._clearCellCSS=function(t){return"left"===t?this.s.rtl?{position:"",right:""}:{left:"",position:""}:this.s.rtl?{left:"",position:""}:{position:"",right:""}},l.prototype._setKeyTableListener=function(){var a=this;this.s.dt.on("key-focus",function(t,s,e){var i,l,o,r=D(e.node()).offset(),d=D(D(a.s.dt.table().node()).closest("div.dataTables_scrollBody"));0<a.c.left&&(i=(l=D(a.s.dt.column(a.c.left-1).header())).offset(),l=l.outerWidth(),r.left<i.left+l&&(o=d.scrollLeft(),d.scrollLeft(o-(i.left+l-r.left)))),0<a.c.right&&(i=a.s.dt.columns().data().toArray().length,l=D(e.node()).outerWidth(),e=D(a.s.dt.column(i-a.c.right).header()).offset(),r.left+l>e.left&&(o=d.scrollLeft(),d.scrollLeft(o-(e.left-(r.left+l)))))}),this.s.dt.on("draw",function(){a._addStyles()}),this.s.dt.on("column-reorder",function(){a._addStyles()}),this.s.dt.on("column-visibility",function(t,s,e,i,l){l&&!s.bDestroying&&setTimeout(function(){a._addStyles()},50)})},l.version="4.2.2",l.classes={fixedLeft:"dtfc-fixed-left",fixedRight:"dtfc-fixed-right",leftBottomBlocker:"dtfc-left-bottom-blocker",leftTopBlocker:"dtfc-left-top-blocker",rightBottomBlocker:"dtfc-right-bottom-blocker",rightTopBlocker:"dtfc-right-top-blocker",tableFixedLeft:"dtfc-has-left",tableFixedRight:"dtfc-has-right"},l.defaults={i18n:{button:"FixedColumns"},left:1,right:0};
/*! FixedColumns 4.2.2
     * © SpryMedia Ltd - datatables.net/license
     */var e=l;function l(t,s){var e=this;if(i&&i.versionCheck&&i.versionCheck("1.10.0"))return t=new i.Api(t),this.classes=D.extend(!0,{},l.classes),this.c=D.extend(!0,{},l.defaults,s),s&&void 0!==s.left||void 0===this.c.leftColumns||(this.c.left=this.c.leftColumns),s&&void 0!==s.right||void 0===this.c.rightColumns||(this.c.right=this.c.rightColumns),this.s={barWidth:0,dt:t,rtl:"rtl"===D("body").css("direction")},s={bottom:"0px",display:"block",position:"absolute",width:this.s.barWidth+1+"px"},this.dom={leftBottomBlocker:D("<div>").css(s).css("left",0).addClass(this.classes.leftBottomBlocker),leftTopBlocker:D("<div>").css(s).css({left:0,top:0}).addClass(this.classes.leftTopBlocker),rightBottomBlocker:D("<div>").css(s).css("right",0).addClass(this.classes.rightBottomBlocker),rightTopBlocker:D("<div>").css(s).css({right:0,top:0}).addClass(this.classes.rightTopBlocker)},this.s.dt.settings()[0]._bInitComplete?(this._addStyles(),this._setKeyTableListener()):t.one("init.dt",function(){e._addStyles(),e._setKeyTableListener()}),t.on("column-sizing.dt",function(){return e._addStyles()}),t.settings()[0]._fixedColumns=this;throw new Error("StateRestore requires DataTables 1.10 or newer")}i=(D=$).fn.dataTable,$.fn.dataTable.FixedColumns=e,$.fn.DataTable.FixedColumns=e;var t=DataTable.Api.register;function o(t,s){void 0===s&&(s=null);t=new DataTable.Api(t),s=s||t.init().fixedColumns||DataTable.defaults.fixedColumns;new e(t,s)}t("fixedColumns()",function(){return this}),t("fixedColumns().left()",function(t){var s=this.context[0];return void 0!==t?(s._fixedColumns.left(t),this):s._fixedColumns.left()}),t("fixedColumns().right()",function(t){var s=this.context[0];return void 0!==t?(s._fixedColumns.right(t),this):s._fixedColumns.right()}),DataTable.ext.buttons.fixedColumns={action:function(t,s,e,i){$(e).attr("active")?($(e).removeAttr("active").removeClass("active"),s.fixedColumns().left(0),s.fixedColumns().right(0)):($(e).attr("active","true").addClass("active"),s.fixedColumns().left(i.config.left),s.fixedColumns().right(i.config.right))},config:{left:1,right:0},init:function(t,s,e){void 0===t.settings()[0]._fixedColumns&&o(t.settings(),e),$(s).attr("active","true").addClass("active"),t.button(s).text(e.text||t.i18n("buttons.fixedColumns",t.settings()[0]._fixedColumns.c.i18n.button))},text:null},$(document).on("plugin-init.dt",function(t,s){"dt"!==t.namespace||!s.oInit.fixedColumns&&!DataTable.defaults.fixedColumns||s._fixedColumns||o(s,null)})}();export default DataTable;